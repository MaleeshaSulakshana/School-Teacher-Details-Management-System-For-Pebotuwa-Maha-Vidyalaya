{% extends 'base.html' %}
{% block content %}

<div class="content-wrapper">

  <div class="row">
    <div class="col-12 grid-margin stretch-card">
      <div class="card">
        <div class="card-body">
          <h4 class="card-title">Add New Teacher information (නව ගුරු තොරතුරු ඇතුලත් කරන්න)</h4>

          <form class="forms-sample" id="form">
            
            <div class="form-group">
              <label for="fullname">Teacher Full Name (ගුරු භවතාගේ සම්පුරණ නම)</label>
              <textarea class="form-control" id="fullname" rows="4" placeholder="Teacher Full Name (ගුරු භවතාගේ සම්පුරණ නම)"></textarea>
            </div>
            
            <div class="form-group">
              <label for="fullnameinitials">Full Name with Initials (මුලකුරු සමග නම)</label>
              <textarea class="form-control" id="fullnameinitials" rows="4" placeholder="Full Name with Initials (මුලකුරු සමග නම)"></textarea>
            </div>

            <div class="form-group">
              <label for="dob">Date of Birth (උපන් දිනය) - Format (Month/Day/Year) (ආකෘතිය (මාසය/දිනය/වසර))</label>
              <input type="date" class="form-control" id="dob" placeholder="Date of Birth (උපන් දිනය)">
            </div>

            <div class="form-group">
              <label for="nic">NIC Number (ජාතික හැදුනුම්පත් අංකය)</label>
              <input type="text" class="form-control" id="nic" placeholder="NIC Number (ජාතික හැදුනුම්පත් අංකය)">
            </div>

            <div class="form-group">
              <label for="address">Private Address (පුද්ගලික ලිපිනය)</label>
              <textarea class="form-control" id="address" rows="4" placeholder="Private Address (පුද්ගලික ලිපිනය)"></textarea>
            </div>

            <div class="form-group">
              <label for="distance">Distance of Home to Service Place (නිවසේ සිට සේවා ස්ථානයට ඇති දුර)</label>
              <input type="text" class="form-control" id="distance" placeholder="Distance of Home to Service Place (නිවසේ සිට සේවා ස්ථානයට ඇති දුර)">
            </div>

            <div class="form-group">
              <label for="">Telephone Numbers (දුරකථන අංක)</label>
              <input type="text" class="form-control" id="landnumber" placeholder="Land Line (ස්ථාවර)">
              <br/>
              <input type="text" class="form-control" id="mobilenumber" placeholder="Mobile (ජංගම)">
            </div>

            <div class="form-group">
              <label for="email">Email Address (විද්‍යුත් ලිපිනය)</label>
              <input type="email" class="form-control" id="email" placeholder="Email Address (විද්‍යුත් ලිපිනය)">
            </div>

            <div class="form-group">
              <label for="marriedpersonname">Married Person's Name (කලත්‍රයාගේ නම)</label>
              <textarea class="form-control" id="marriedpersonname" rows="4" placeholder="Married Person's Name (කලත්‍රයාගේ නම)"></textarea>
            </div>

            <div class="form-group">
              <label for="marriedpersonjob">Married Person's Job and Service Place (කලත්‍රයාගේ රැකියාව සහ සේවා ස්ථානය)</label>
              <textarea class="form-control" id="marriedpersonjob" rows="4" placeholder="Married Person's Job and Service Place (කලත්‍රයාගේ රැකියාව සහ සේවා ස්ථානය)"></textarea>
            </div>

            <div class="form-group">
              <label for="originalappointment">Date of Original Appointment (මුල් පත්වීම් දිනය)</label>
              <input type="date" class="form-control" id="originalappointment" placeholder="Date of Original Appointment (මුල් පත්වීම් දිනය)">
            </div>

            <div class="form-group">
              <label for="gradeclass">Teacher/Principal Grade and Class (ගුරු/විදුහල්පති ශේණිය හා පංතිය)</label>
              <input type="text" class="form-control" id="gradeclass" placeholder="Teacher/Principal Grade and Class (ගුරු/විදුහල්පති ශේණිය හා පංතිය)">
            </div>

            <div class="form-group">
              <label for="salaryimplementdate">Salary Implement Date (වැටුප් වර්ධක දිනය)</label>
              <input type="text" class="form-control" id="salaryimplementdate" placeholder="Salary Implement Date (වැටුප් වර්ධක දිනය)">
            </div>

            <div class="form-group">
              <label for="servicedschools">Previous Serviced Schools (මෙතෙක් සේවයකල පාසල්)</label>
              <textarea class="form-control" id="servicedschools" rows="5" placeholder="Previous Serviced Schools (මෙතෙක් සේවයකල පාසල්)"></textarea>
            </div>

            <div class="form-group">
              <label for="educationqualifications">Education Qualifications (අධ්‍යාපන සුදුසුකම්)</label>
              <textarea class="form-control" id="educationqualifications" rows="5" placeholder="Education Qualifications (අධ්‍යාපන සුදුසුකම්)"></textarea>
            </div>

            <div class="form-group">
              <h4 for="">Ordinary Level (සාමාන්‍ය පෙළ)</h4>
            </div>

            <div class="form-group">
              <label for="olyear">Ordinary Level Year (සාමාන්‍ය පෙළ වර්ෂය)</label>
              <input type="text" class="form-control" id="olyear" placeholder="Ordinary Level Year (සාමාන්‍ය පෙළ වර්ෂය)">
            </div>

            <div class="form-group">
              <label for="">Ordinary Level Subjects (සාමාන්‍ය පෙළ විෂයන්)</label>

              <div class="form-group row">
                <div class="col">
                  <div class="form-group">
                    <input class="form-control" id="ol1" type="text" placeholder="1.">
                  </div>
                </div>
                <div class="col">
                  <div class="form-group">
                    <input class="form-control" id="ol6" type="text" placeholder="6.">
                  </div>
                </div>
              </div>

              <div class="form-group row">
                <div class="col">
                  <div class="form-group">
                    <input class="form-control" id="ol2" type="text" placeholder="2.">
                  </div>
                </div>
                <div class="col">
                  <div class="form-group">
                    <input class="form-control" id="ol7" type="text" placeholder="7.">
                  </div>
                </div>
              </div>

              <div class="form-group row">
                <div class="col">
                  <div class="form-group">
                    <input class="form-control" id="ol3" type="text" placeholder="3.">
                  </div>
                </div>
                <div class="col">
                  <div class="form-group">
                    <input class="form-control" id="ol8" type="text" placeholder="8.">
                  </div>
                </div>
              </div>

              <div class="form-group row">
                <div class="col">
                  <div class="form-group">
                    <input class="form-control" id="ol4" type="text" placeholder="4.">
                  </div>
                </div>
                <div class="col">
                  <div class="form-group">
                    <input class="form-control" id="ol9" type="text" placeholder="9.">
                  </div>
                </div>
              </div>

              <div class="form-group row">
                <div class="col">
                  <div class="form-group">
                    <input class="form-control" id="ol5" type="text" placeholder="5.">
                  </div>
                </div>
                <div class="col">
                  <div class="form-group">
                    <input class="form-control" id="ol10" type="text" placeholder="10.">
                  </div>
                </div>
              </div>

            </div>

            <div class="form-group">
              <h4 for="">Advanced Level (උසස් පෙළ)</h4>
            </div>

            <div class="form-group">
              <label for="alstream">Advanced Level Subject Stream (උසස් පෙළ විෂය ධාරාව)</label>
              <input type="text" class="form-control" id="alstream" placeholder="Advanced Level Subject Stream (උසස් පෙළ විෂය ධාරාව)">
            </div>

            <div class="form-group">
              <label for="alyear">Advanced Level Year (උසස් පෙළ වර්ෂය)</label>
              <input type="text" class="form-control" id="alyear" placeholder="Advanced Level Year (උසස් පෙළ වර්ෂය)">
            </div>

            <div class="form-group">
              <label for="">Advance Level Subjects (උසස් පෙළ විෂයයන්)</label>

              <div class="form-group row">
                <div class="col">
                  <div class="form-group">
                    <input class="form-control" id="al1" type="text" placeholder="1.">
                  </div>
                </div>
                <div class="col">
                  <div class="form-group">
                    <input class="form-control" id="al3" type="text" placeholder="3.">
                  </div>
                </div>
              </div>

              <div class="form-group row">
                <div class="col">
                  <div class="form-group">
                    <input class="form-control" id="al2" type="text" placeholder="2.">
                  </div>
                </div>
                <div class="col">
                  <div class="form-group">
                    <input class="form-control" id="al4" type="text" placeholder="4.">
                  </div>
                </div>
              </div>

            </div>

            <div class="form-group">
              <label for="isdegree">Is Degree Have? (උපාධියක් ලබා තිබේද?)</label>
              <select class="form-control" id="isdegree">
                <option value="Yes" selected>Yes (ඔව්)</option>
                <option value="No">No (නැත)</option>
              </select>
            </div>

            <div class="form-group">
              <label for="degreename">Degree Name (උපාධියේ නම)</label>
              <textarea class="form-control" id="degreename" rows="5" placeholder="Degree Name (උපාධියේ නම)"></textarea>
            </div>

            <div class="form-group">
              <label for="">Subjects Studied in The Degree (උපාධියේ හැදෑරූ විෂයන්)</label>

              <div class="form-group row">
                <div class="col">
                  <div class="form-group">
                    <input class="form-control" id="d1" type="text" placeholder="1.">
                  </div>
                </div>
                <div class="col">
                  <div class="form-group">
                    <input class="form-control" id="d4" type="text" placeholder="4.">
                  </div>
                </div>
              </div>

              <div class="form-group row">
                <div class="col">
                  <div class="form-group">
                    <input class="form-control" id="d2" type="text" placeholder="2.">
                  </div>
                </div>
                <div class="col">
                  <div class="form-group">
                    <input class="form-control" id="d5" type="text" placeholder="5.">
                  </div>
                </div>
              </div>

              <div class="form-group row">
                <div class="col">
                  <div class="form-group">
                    <input class="form-control" id="d3" type="text" placeholder="3.">
                  </div>
                </div>
                <div class="col">
                  <div class="form-group">
                    <input class="form-control" id="d6" type="text" placeholder="6.">
                  </div>
                </div>
              </div>

            </div>

            <div class="form-group">
              <label for="professionalqualifications">Professional Qualifications (වෘත්තීය සුදුසුකම්)</label>
              <textarea class="form-control" id="professionalqualifications" rows="5" placeholder="Professional Qualifications (වෘත්තීය සුදුසුකම්)"></textarea>
            </div>

            <div class="form-group">
              <label for="datetransfer">Date of Transfer (ස්ථාන මාරු වූ දිනය)</label>
              <input type="text" class="form-control" id="datetransfer" placeholder="Date of Transfer (ස්ථාන මාරු වූ දිනය)">
            </div>
            
            <div class="form-group">
              <label for="placeoftransfer">Place of Transfer (ස්ථාන මාරු වීම් ලැබූ ස්ථානය)</label>
              <textarea class="form-control" id="placeoftransfer" rows="5" placeholder="Place of Transfer (ස්ථාන මාරු වීම් ලැබූ ස්ථානය)"></textarea>
            </div>

            <div class="form-group">
              <label for="otherinformations">Other Information (වෙනත් තොරතුරු)</label>
              <textarea class="form-control" id="otherinformations" rows="5" placeholder="Other Information (වෙනත් තොරතුරු)"></textarea>
            </div>

            <div class="form-group">
              <label for="datefilled">Date (දිනය)</label>
              <input type="text" class="form-control" id="datefilled" placeholder="Date (දිනය)">
            </div>

            <button type="button" id="btn" class="btn btn-primary mr-2">Add (ඇතුලත් කරන්න)</button>
            <a href="/" class="btn btn-light">Cancel (ඉවත් වන්න)</a>
          </form>
        </div>
      </div>
    </div>
  </div>

</div>

<script>

  $(function () {
    $('#btn').click(function () {

      var fullName = $('#fullname').val();
      var fullNameInitials = $('#fullnameinitials').val();
      var dob = $('#dob').val();
      var nic = $('#nic').val();
      var address = $('#address').val();
      var distance = $('#distance').val();
      var landNumber = $('#landnumber').val();
      var mobileNumber = $('#mobilenumber').val();
      var email = $('#email').val();
      var marriedPersonName = $('#marriedpersonname').val();
      var marriedPersonJob = $('#marriedpersonjob').val();
      var originalAppointment = $('#originalappointment').val();
      var gradeClass = $('#gradeclass').val();
      var salaryImplementDate = $('#salaryimplementdate').val();
      var servicedSchools = $('#servicedschools').val();
      var educationQualifications = $('#educationqualifications').val();

      var olyear = $('#olyear').val();
      var ol1 = $('#ol1').val();
      var ol6 = $('#ol6').val();
      var ol2 = $('#ol2').val();
      var ol7 = $('#ol7').val();
      var ol3 = $('#ol3').val();
      var ol8 = $('#ol8').val();
      var ol4 = $('#ol4').val();
      var ol9 = $('#ol9').val();
      var ol5 = $('#ol5').val();
      var ol10 = $('#ol10').val();
      var alstream = $('#alstream').val();
      var alyear = $('#alyear').val();
      var al1 = $('#al1').val();
      var al3 = $('#al3').val();
      var al2 = $('#al2').val();
      var al4 = $('#al4').val();
      var isdegree = $('#isdegree').val();
      var degreename = $('#degreename').val();
      var d1 = $('#d1').val();
      var d4 = $('#d4').val();
      var d2 = $('#d2').val();
      var d5 = $('#d5').val();
      var d3 = $('#d3').val();
      var d6 = $('#d6').val();
      var professionalqualifications = $('#professionalqualifications').val();
      var datetransfer = $('#datetransfer').val();
      var placeoftransfer = $('#placeoftransfer').val();
      var otherinformations = $('#otherinformations').val();
      var datefilled = $('#datefilled').val();

      var title = "Add New Teacher Information (නව ගුරු තොරතුරු ඇතුලත් කරන්න)";

      if (fullName == "" || fullNameInitials == "" || dob == "" || nic == "" || address == "" || distance == "" || educationQualifications == "") {
        swal.fire(title, "Fields are empty! (ආදාන ක්ෂේත්‍ර හිස්ය!)", "warning");

      } else {

        var form_data = new FormData();
        form_data.append('fullName', fullName);
        form_data.append('fullNameInitials', fullNameInitials);
        form_data.append('dob', dob);
        form_data.append('nic', nic);
        form_data.append('address', address);
        form_data.append('distance', distance);
        form_data.append('landNumber', landNumber);
        form_data.append('mobileNumber', mobileNumber);
        form_data.append('email', email);
        form_data.append('marriedPersonName', marriedPersonName);
        form_data.append('marriedPersonJob', marriedPersonJob);
        form_data.append('originalAppointment', originalAppointment);
        form_data.append('gradeClass', gradeClass);
        form_data.append('salaryImplementDate', salaryImplementDate);
        form_data.append('servicedSchools', servicedSchools);
        form_data.append('educationQualifications', educationQualifications);

        form_data.append('olYear', olyear);
        form_data.append('ol1', ol1);
        form_data.append('ol6', ol6);
        form_data.append('ol2', ol2);
        form_data.append('ol7', ol7);
        form_data.append('ol3', ol3);
        form_data.append('ol8', ol8);
        form_data.append('ol4', ol4);
        form_data.append('ol9', ol9);
        form_data.append('ol5', ol5);
        form_data.append('ol10', ol10);
        form_data.append('alStream', alstream);
        form_data.append('alYear', alyear);
        form_data.append('al1', al1);
        form_data.append('al3', al3);
        form_data.append('al2', al2);
        form_data.append('al4', al4);
        form_data.append('isDegree', isdegree);
        form_data.append('degreeName', degreename);
        form_data.append('d1', d1);
        form_data.append('d4', d4);
        form_data.append('d2', d2);
        form_data.append('d5', d5);
        form_data.append('d3', d3);
        form_data.append('d6', d6);
        form_data.append('professionalQualifications', professionalqualifications);
        form_data.append('dateTransfer', datetransfer);
        form_data.append('placeOfTransfer', placeoftransfer);
        form_data.append('otherInformations', otherinformations);
        form_data.append('dateFilled', datefilled);

        $.ajax({
          url: "/add_new_teacher",
          enctype: 'multipart/form-data',
          data: form_data,
          contentType: false,
          cache: false,
          processData: false,
          type: 'POST',
        })
          .done(function (data) {
            if (data.redirect) {
              window.location.href = data.redirect;
            }
            else if (data.success) {
              Swal.fire(title, data.success, "success");
              document.getElementById("form").reset();
            }
            else if (data.error) {
              Swal.fire(title, data.error, "warning");
            }
            else {
              Swal.fire(title, "Some error occur! (යම් දෝෂයක් සිදු වේ!)", "warning");
            }
          });

      }

      event.preventDefault();
    });
  });

</script>

{% endblock %}